
CXXFLAGS=-g -Wall
OBJS=scanner.o parser.o main.o nodecache.o osgvisitor.o normals.o readerwriter.o
TARGET=osgdb_iv.so

$(TARGET): $(OBJS)
	$(CXX) -shared $(OBJS) -o osgdb_wrl.so

scanner.cpp: scanner.l parser.cpp
	flex -oscanner.cpp scanner.l

parser.cpp: parser.y
	bison --debug -d -o parser.cpp parser.y

clean:
	rm -f *.o main $(TARGET) $(OBJS) scanner.cpp parser.cpp *~
