
IF   (DYNAMIC_OPENSCENEGRAPH)
    ADD_DEFINITIONS(-DOSGTEXT_LIBRARY)
ELSE (DYNAMIC_OPENSCENEGRAPH)
    ADD_DEFINITIONS(-DOSG_LIBRARY_STATIC)
ENDIF(DYNAMIC_OPENSCENEGRAPH)

SET(LIB_NAME osgText)
SET(HEADER_PATH ${OpenSceneGraph_SOURCE_DIR}/include/${LIB_NAME})
SET(LIB_PUBLIC_HEADERS
    ${HEADER_PATH}/Export
    ${HEADER_PATH}/Font
    ${HEADER_PATH}/Font3D
    ${HEADER_PATH}/KerningType
    ${HEADER_PATH}/String
    ${HEADER_PATH}/TextBase
    ${HEADER_PATH}/Text
    ${HEADER_PATH}/Text3D
    ${HEADER_PATH}/FadeText
    ${HEADER_PATH}/Version
)

IF(APPLE)
    SET(ADD_LIBRARY_HEADERS "")
ELSEIF(APPLE)
    SET(ADD_LIBRARY_HEADERS ${LIB_PUBLIC_HEADERS} )
ENDIF(APPLE)

# FIXME: For OS X, need flag for Framework or dylib
ADD_LIBRARY(${LIB_NAME}
    ${OPENSCENEGRAPH_USER_DEFINED_DYNAMIC_OR_STATIC}
    ${ADD_LIBRARY_HEADERS}
    DefaultFont.cpp
    DefaultFont.h
    Font.cpp
    Font3D.cpp
    String.cpp
    FadeText.cpp
    TextBase.cpp
    Text.cpp
    Text3D.cpp
    Version.cpp
)


SET(TARGET_LIBRARIES_VARS FREETYPE_LIBRARY )
LINK_INTERNAL(${LIB_NAME}     
    osgDB
    osg
    OpenThreads
)
LINK_CORELIB_DEFAULT(${LIB_NAME})

INCLUDE(ModuleInstall OPTIONAL)
