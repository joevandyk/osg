//C++ header - Open Producer - Copyright (C) 2002 Don Burns
//Distributed under the terms of the GNU LIBRARY GENERAL PUBLIC LICENSE (LGPL)
//as published by the Free Software Foundation.
#ifndef OSGPRODUCER_SCENEHANDLER
#define OSGPRODUCER_SCENEHANDLER 1

#include <osgProducer/Export>

#include <Producer/Camera>
#include <osgUtil/SceneView>
#include <osg/Matrix>

namespace osgProducer {

class OSGPRODUCER_EXPORT SceneHandler : public Producer::Camera::SceneHandler, public osgUtil::SceneView
{
    public :
    
        SceneHandler( osg::DisplaySettings *ds = NULL);

        /// override the init method to force it be run one at a time.
        virtual void init();

        void cull(Producer::Camera &cam);

        void draw(Producer::Camera &);

        void setContextID( int id );


    protected:
    
        virtual ~SceneHandler() {}
    
        osg::ref_ptr<osg::RefMatrix> mm; 
        osg::ref_ptr<osg::RefMatrix> pm;
};

}

#endif
